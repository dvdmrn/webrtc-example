<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>audio context</title>
  <link rel="stylesheet" href="style.css">
  

  <script src="scripts/detectbrowser.js" defer></script>
  <script src="/socket.io/socket.io.js"></script>

  <!-- libraries -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tensorflow/2.7.0/tf.js"></script> -->
  <script src="libs/tensorflow27.js"></script>

  <script src="libs/p5.min.js"></script>

  <!-- aux scripts -->
  <script src="scripts/onepole.js"></script>
  <script src="scripts/helpers.js"></script>
  <script src="scripts/remaps.js"></script>

  <!-- main scripts -->
  <script src="scripts/bufferplayer.js"></script>

  <script>
    // Load yamnet model.
    let model;
    (async function () {
      // const modelUrl = 'https://tfhub.dev/google/tfjs-model/yamnet/tfjs/1';
      // model = await tf.loadGraphModel(modelUrl, { fromTFHub: true });
      const modelURL = 'libs/yamnet/model.json'
      model = await tf.loadGraphModel(modelURL);

    })();

  </script>

  <script src="scripts/yamnetparsing.js"></script>
  <script src="scripts/particle_display.js"></script>
  <script src="/scripts/main.js" type="module"></script>

</head>

<body>
  <h1>Audio Context Prototype Demo</h1><br />
  This device visualizes your aural environment while videoconferencing. Particles respond to sound semantics: {artificial, organic, indoor, outdoor, background, foreground} and acoustics: {pitch, loudness} <br />
  Further details will be disclosed in our upcoming CSCW paper. <br />
  <b>⚠️ STUN server is online but TURN server is offline </b> - Your video feed will not be broadcasted to other users unless you are on the same local network.
  <p></p>


  <p>
    <span class="lol">"If the feed is laggy, try refreshing the page"</span>
  </p>
  <span id="message"></span>

  <!-- My Video and Remote Video from connection -->
  <div id="video-grid">
    <video playsinline autoplay muted id="local-video"></video>
    <video playsinline autoplay id="remote-video"></video>
  </div>

  <!-- Input to send messages -->
  <div>
    <span style="font-weight: bold">Message: </span>
    <input type="text" id="message-input" title="Message to Send!">
    <button id="message-button">Send</button>
  </div>

  <!-- Area to Print Images -->
  <div class="messages"></div>
  <div id="console"></div>

</body>

</html>